\section{Struttura}
Di seguito sono illustrate le modalità di progettazione della struttura delle
pagine all'interno del sito.

\subsection{Struttura organizzativa}
Il sito è stato progettato secondo la seguente struttura gerarchica (non sono state indicate tutte le località, anche perché è la direzione in cui il sito potrebbe più facilmente estendersi):
\begin{figure}[h!]
    \centering
    \input{sections/gerarchia}
    \caption{Organizzazione gerarchica del sito}
    \label{fig:gerarchia}
\end{figure}
Per ogni pagina allo stesso livello gerarchico (ovvero sulla stessa fascia verticale in figura) è stata uniformata la struttura della pagina, così da permettere all'utente di orientarsi meglio all'interno del sito.

È opportuno osservare che solo dei sottoinsiemi di località mutuamente esclusivi sono figli di ogni categoria di località; la figura non rappresenta chiaramente questa distinzione per non essere di difficile comprensione.

\subsection{Progettazione della struttura delle pagine}
Durante le attività di progetto, le pagine del sito sono state codificate
facendo riferimento ai capitoli 6 (``\textit{XHTML and Semantic Markup}") e 8
(``\textit{Tighter, Firmer Pages Guaranteed: Structure and Semantics}") di
\textit{Designing with Web Standards}\footnote{Jeffrey Zeldman, Ethan Marcotte 
- \textit{Designing with Web Standards}, Terza Edizione \textbf{[2009]}}.

\subsubsection{XHTML and Semantic Markup}
Sono state seguite le seguenti indicazioni:
\begin{itemize}
\item ogni documento XHTML inizia con un \texttt{DOCTYPE} corretto e facente
riferimento a XHTML \texttt{1.0} Strict (come previsto dalle specifiche del
progetto);
\item ogni dichiarazione \texttt{DOCTYPE} è seguita dal namespace XHTML, con
l'indicazione che nelle pagine verrà utilizzata la lingua italiana (se non
diversamente specificato per alcune parti di testo, in cui sarà indicato con
uno span apposito);
\item per la codifica dei caratteri è stata utilizzata UTF-8, in quanto
potevano essere presenti anche caratteri stranieri non presenti nel comune ISO
Latin 1 oltre alle lettere accentate;
\item tutti gli elementi e gli attributi sono stati scritti in
\textit{lowercase}, siccome XHTML \textbf{è} case sensitive, mentre il loro
contenuto può avere indistintamente lettere maiuscole o minuscole;
\item tutti i valori degli attributi hanno un valore (possibilmente vuoto) e
sono racchiusi tra virgolette e tutti i caratteri speciali sono stati generati
utilizzando le rispettive entità e non venendo inseriti direttamente;
\item tutti i tag sono aperti e chiusi nell'ordine giusto, anche quelli vuoti;
\item nessun commento ha due \textit{dash} consecutivi al suo interno;
\item gli elementi sono stati inseriti all'interno della pagina in una
struttura tale che questa fosse appropriata per il contenuto che gli elementi
rappresentano e non per come verranno visualizzati (a tal fine non sono stati
utilizzati elementi o  attributi presentazionali o di comportamento ma
solamente semantici).
\end{itemize}

\subsubsection{Tighter, Firmer Pages Guaranteed: Structure and Semantics}
Sono state seguite le seguenti indicazioni:
\begin{itemize}
\item i tag \texttt{div} sono stati intesi come divisioni di elementi aventi
un comune scopo all'interno del documento e non come blocchi da comporre
affinchè la pagina sia ``bella" da vedere;
\item si è cercato di scegliere nomi semanticamente appropriati per \texttt{id}
e \texttt{class}, evitando di attribuire ad un id il valore ``giallo" o il
valore ``pippo";
\item gli attributi \texttt{id} e \texttt{class} sono stati usati per il
motivo per cui sono stati creati: gli id individuano un elemento che svolge un
ruolo semanticamente unico nella pagina, mentre una classe attribuisce ad un
elemento delle caratteristiche che condivide con altri elementi;
\item per la ``\textit{Sticky Note Theory}", ogni elemento che viene marcato
con un id è preferibilmente soggetto a essere coinvolto in regole CSS o ad
essere cercato in qualche script;
\item dal momento che gli \texttt{id} sono molto potenti per creare ancore nel
documento, effettuare query su CSS e JavaScript, si è cercato di usare un id
anzichè una classe ogniqualvolta possibile (usando identificatori ben-formati);
\item le pagine del sito sono state strutturate in modo tale che i contenuti
siano facilmente comprensibili logicamente sia per utenti svantaggiati che
utilizzano screen reader, così come per i motori di ricerca, con titoli
ordinati con importanza progressiva e altri aiuti che verranno approfonditi
nella sezione ``Accessibilità";
\item le pagine contengono elementi che sono riusabili in altre pagine, così
da:
  \begin{enumerate}
  \item non dover scrivere una generica struttura per ogni pagina prodotta;
  \item evitare disorientamento all'utente.
  \end{enumerate}
\item proprio perchè vengono preferiti gli \texttt{id} agli attributi
\texttt{class}, si è cercato di evitare il fenomeno chiamato
``\textit{classitis}" da Jeffrey Zeldman, ovvero quando troppi elementi
facilmente raggruppabili come figli di un unico elemento condividono la stessa
classe, basta applicare un id all'elemento padre anzichè applicare la singola
classe a tutti gli elementi figli;
\item si è cercato di evitare anche il fenomeno chiamato ``\textit{divitis}",
ovvero una tendenza ad inserire tag \texttt{div} e \texttt{span} dovunque,
anche dove non vi sono elementi in relazione tra loro o, più genericamente, dove non è strettamente necessario.
\end{itemize}

\subsection{Parti comuni a tutte le pagine}
Tutte le pagine sono state scritte seguendo lo standard \textit{XHTML 1.0 Strict} e come codifica è stata scelta UTF-8 dal momento che nel sito sono
presenti parole accentate.
Una sezione \textbf{head} ed una sezione \textbf{body} sono state inserite in
tutte le pagine con la stessa struttura.

\subsubsection{Head} %TODO @Graziano @Carlo
Sono presenti i seguenti tag nelle sezioni head di tutte le pagine:
\begin{itemize}
\item \textbf{title:} permette di visualizzare sulla finestra del browser il titolo della pagina visualizzata, dal particolare al generale
\item \textbf{meta title:} indica il titolo della pagina in un eventuale snippet, anch'esso dal particolare al generale
\item \textbf{meta description:} in questo tag viene inserita la breve descrizione della pagina visualizzata in un eventuale snippet
\item \textbf{meta author:} in questo tag sono indicati i componenti del gruppo
\item \textbf{meta keywords:} parole che aiutano un motore di ricerca a trovare la pagina grazie a dei termini di importanza focale
\item \textbf{meta robots:} tag che indica ad un eventuale spider se indicizzare la pagina e se seguire i link da essa uscenti
\item \textbf{meta reply-to:} indica l’indirizzo di posta elettronica dell’autore del documento
\item \textbf{meta Classification:} tag che serve ad indicare l'argomento trattato dalle pagine del sito
\item \textbf{meta viewport:} elemento orientato all'ottimizzazione del sito per dispositivi multipli, indicando al browser come controllare dimensioni e scala della pagina
\item \textbf{link shortcut icon:} icona visibile a fianco al titolo della scheda nel browser, aiuta a identificare meglio le schede di \textit{What To Visit} se un utente avesse più schede aperte nel suo browser
\item \textbf{link stylesheet:} collegamento ai vari fogli di stile CSS, questo tag è stato utilizzato più volte in quanto abbiamo voluto consentire una diversa visualizzazione del sito in base al dispositivo utilizzato dall'utente.
\end{itemize}

\subsubsection{Body}
Affinchè l'utente si sentisse il meno disorientato possibile all'interno di \textit{What To Visit}, si è cercato di progettare il sito con un layout essenziale e che mettesse in primo piano il contenuto aspettato in tutte le pagine.
Sono presenti questi elementi strutturali nei corpi di tutte le pagine:
\begin{itemize}
\item un header, dove vi è il logo del sito;
\item un'ampia parte centrale, dove vengono visualizzati i contenuti richiesti dall'utente;
\item un footer, dove sono presenti link ed informazioni di poco rilievo e un'indicazione riguardo la validità della pagina.
\end{itemize}

\subsection{Pagine di primo livello}
Vi è un'unica pagina di primo livello, ovvero la homepage.
Essendo la pagina principale del sito, si è pensato di esporre in primo piano all'utente la scelta delle tre categorie delle località.
A partire da queste l'utente può arrivare nelle pagine delle categorie, dove può trovare le liste delle località presenti in queste.

Dal momento che la homepage è l'unica pagina facilmente riconoscibile data la sua struttura con tre titoli di indirizzamento, la breadcrumb è stata omessa perchè si è assunto che gli utenti riuscissero a dedurre che si trovano nella homepage quando vi sono dentro (anche grazie all'URL).

Per poter comunque fornire collegamenti alle pagine che non sono di contenuto ma che sono significative (Chi Siamo e F.A.Q.), i link a queste sono stati inseriti nell'header della pagina a fianco del logo; in questo modo, anche se sono di importanza secondaria rispetto ai tre pannelli visualizzati nella pagina, rimangono comunque nella parte visibile del sito quando questo viene aperto (\texttt{http://en.wikipedia.org/wiki/Above\_the\_fold\#In\_web\_design}). Oltre a questi link, vi è anche una barra di ricerca dalla quale, digitando il nome della località e confermando la propria richiesta, si viene reindirizzati direttamente nella pagina della località cercata.

Nel footer, oltre alle indicazioni di validità della pagina, sono stati lasciati i link restanti alle pagine che non sono di contenuto.

\subsection{Pagine di secondo livello}\label{sec:IIlev}
Vi sono due tipi di pagine di secondo livello: quelle secondarie (che forniscono all'utente informazioni utili ma non fondamentali per la navigazione) e quelle che raggruppano le località per categorie in una lista.

Queste pagine presentano una breadcrumb sotto l'header, così che l'utente possa orientarsi semplicemente guardando questa. La barra di ricerca è stata spostata nella breadcrumb, ma siccome non vi sono altri elementi nell'angolo in alto a destra, questo fattore si ritiene che non crei disorientamento nell'utente.

La parte centrale della pagine è divisa a sua volta in due parti:
\begin{itemize}
\item un blocco di navigazione, dove è evidenziata la pagina in cui ci si trova e dove si vedono i ``fratelli'' della pagina in questione, ovvero le pagine facenti parte della stessa famiglia (come si vede in fig. \ref{fig:gerarchia} a pagina \pageref{fig:gerarchia});
\item una parte centrale, dove viene visualizzato il contenuto atteso della pagina se questa è secondaria, altrimenti la lista della località presenti in tale categoria.
\end{itemize}

\subsubsection{Pagine secondarie}
Il footer di queste pagine non presenta altre informazioni oltre alle indicazioni alla validazione. Questo poichè tutti i collegamenti alle altre pagine secondarie sono già presenti nel blocco di navigazione.

In particolare sono presenti quattro pagine secondarie all'interno del sito:
\begin{itemize}
\item{Chi siamo:} spiega brevemente l'obiettivo del sito \textit{What To Visit} 
\item{Faq:} il cui contenuto è costituito da una lista di definizioni. Essa presenta una serie di domante frequenti sul sito e le relative risposte.
\item{Normativa sulla privacy:} %TODO Graziano
\item{Mappa del sito:} il suo contenuto è costituito da una lista non ordinata di tutti i link presenti all'interno del sito. Essi sono presentati in ordine di ``importanza'': homepage, link alle tre categorie con relativa sottolista contenente le singole località, ed infine link alle pagine secondarie.
\end{itemize}

\subsubsection{Categorie di località}\label{sec:categorieStruct}
In queste pagine, il blocco navigazione contiene anche una parte dove si può vedere in una mappa dove si trovano le località \textit{solamente} per quella categoria di località; questa parte verrà approfondita nella sezione ``Geolocalizzazione''.

Il footer di queste pagine contiene tutti i link alle pagine secondarie.

\subsection{Pagine di terzo livello}
Nelle pagine di terzo livello sono descritte le località. Sono stati pensati due modi per arrivare in queste pagine: tramite la searchbar, inserendo il nome della località in italiano o in lingua originale, oppure tramite il link presente sulla pagina della categoria alla quale appartiene alla località (in realtà attualmente vi sarebbe un terzo modo, ovvero dalla mappa del sito; tuttavia, i progettisti hanno pensato che se il sito si dovesse espandere, nella mappa del sito rimarrebbero solamente homepage, categorie e pagine secondarie per evitare disorientamento).

La parte alta della pagina (header e breadcrumb) è sostanzialmente uguale a quella delle pagine di secondo livello (sezione \ref{sec:IIlev}), solamente che vi è un livello di profondità in più.

La parte centrale è divisa in tre parti:
\begin{itemize}
\item un blocco di navigazione, dove è evidenziata la categoria alla quale la pagina fa parte e sono elencate le categorie delle località;
\item una parte centrale, dove viene presentata la località, informazioni utili per questa (ad esempio potrebbero essere presenti i trasporti) e le maggiori attrattive di questa località; sotto la descrizione della località, gli utenti possono lasciare un commento con la loro opinione sulla località e visualizzare i commenti precedenti;
\item un blocco laterale, dove sono presenti la parte dedicata alla geolocalizzazione, alcune informazioni generali sulla località e una serie di link utili riguardanti la località messi a disposizione per l'utente.
\end{itemize}

Il titolo principale della parte centrale è il nome della località, il titolo secondario la categoria di appartenenza ed infine i titoli minori sono gli argomenti presenti nella descrizione della località.

Alcuni argomenti della descrizione della località, essendo vasti, sono stati sviluppati secondo una lista di definizioni, dove vi è un elemento da definire (ad esempio un parco) e la sua descrizione.

Il footer è uguale a quello delle pagine di categorie di località (sezione \ref{sec:categorieStruct}).

\subsection{Pagina di ricerca fallita}
È stata prevista anche una pagina creata con CGI per assistere l'utente nel caso in cui la ricerca con la searchbar non andasse a buon fine; più precisamente:
\begin{enumerate}
\item l'utente può trovarvi i link per andare a una pagina di categoria delle località tramite il box di navigazione;
\item l'utente può tornare alla homepage tramite un link proposto nella parte centrale della pagina oppure tramite tre link nella stessa pagina;
\item l'utente viene invitato a riformulare la sua ricerca.
\end{enumerate}

Questa pagina è stata pensata (con leggere modifiche) anche per assistere l'utente e fornirgli il link alla mappa del sito in caso di errore 404, ma naturalmente non è stato possibile adottare questa soluzione nel progetto poichè non si hanno i permessi per modificare l'\texttt{.htaccess} del server TecWeb.
