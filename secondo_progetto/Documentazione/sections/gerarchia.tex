\pgfdeclarelayer{bg}    % declare background layer
\pgfsetlayers{bg,main}  % set the order of the layers (main is the standard layer)

\begin{tikzpicture}[
    grow=right,
    level 1/.style={sibling distance=5cm,level distance=5.2cm},
    level 2/.style={sibling distance=3.5cm, level distance=4cm},
    edge from parent/.style={very thick,draw=blue!40!black!60,
        shorten >=5pt, shorten <=5pt},
    edge from parent path={(\tikzparentnode.east) -- (\tikzchildnode.west)},
    kant/.style={text width=2cm, text centered, sloped},
    every node/.style={text ragged, inner sep=2mm},
    punkt/.style={rectangle, rounded corners, shade, top color=white,
    bottom color=blue!50!black!20, draw=blue!40!black!60, very
    thick }
    ]

\node[punkt, text width=5.5em] {\textbf{\textit{Homepage}}}
    %Lower part lv1
    child {
      node[punkt] [rectangle split, rectangle split, rectangle split parts=3,
        text ragged] {
          \textbf{Pagine secondarie}
            \nodepart{two}
              $\text{Chi Siamo}$
            \nodepart{three}
              $\text{Contatti}$
      }
    }
    child {
        node[punkt] [text ragged] (D) {
            \textbf{Accesso}
        }
        child {
          node[punkt] [text ragged] (M) {
                \textbf{Registrazione}
          }
        }
        edge from parent
            node[kant, below, pos=.6] {}
    }
    %RICERCA
    child {
        node[punkt] [rectangle split, rectangle split, rectangle split parts=4,
         text ragged] {
            \textbf{Ricerca}
                  \nodepart{two}
            $\text{Per autore}$
                  \nodepart{three}
            $\text{Per titolo}$
                  \nodepart{four}
            $\text{Per collana}$
        }
        child {
            node [punkt,rectangle split, rectangle split,
            rectangle split parts=2] (R) {
                \textbf{Risultati ricerca}
                  \nodepart{two}
            $\text{...}$
            }
        }
        edge from parent
            node[kant, below, pos=.6] {}
    }
    %Upper part, lv1 GENERI
    child {
        node[punkt][rectangle split, rectangle split, rectangle split parts=7,
         text ragged] (G) {
            \textbf{Generi}
                  \nodepart{two}
            $\text{Fantasy}$
                  \nodepart{three}
            $\text{Horror}$
                  \nodepart{four}
            $\text{Gialli}$
                  \nodepart{five}
            $\text{Fantascienza}$
                  \nodepart{six}
            $\text{Narrativa}$
                  \nodepart{seven}
            $\text{Romanzi Storici}$
        }
        %ELENCO
        child {
            node [punkt,rectangle split, rectangle split,
            rectangle split parts=2] (E) {
                \textbf{Elenco libri}
                  \nodepart{two}
            $\text{...}$
            }
          child {
            node[punkt] [text ragged] (L) {
              \textbf{Pagina libro}
          }
          child {
            node[punkt] [text ragged] (X) {
                \textbf{Aggiunta commento}
            }
          }
          edge from parent
            node[kant, below, pos=.4] {}
    }
  }
};
  \begin{pgfonlayer}{bg}
    \path[every node/.style={font=\sffamily\small}]
    (R) edge[kant, below, pos=.4] (L);
  \end{pgfonlayer}
\end{tikzpicture}
